_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"/0+H":function(t,e,n){"use strict";e.__esModule=!0,e.isInAmpMode=a,e.useAmp=function(){return a(o.default.useContext(i.AmpStateContext))};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},i=n("lwAK");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,o=void 0!==r&&r,i=t.hasQuery,a=void 0!==i&&i;return n||o&&a}},"/EDR":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return P}));var r=n("nKUr"),o=n("g4pe"),i=n.n(o);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?s(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=n("rePB"),y=n("q1tI");function v(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m=function t(e,n,r,o){a(this,t),Object(d.a)(this,"x",void 0),Object(d.a)(this,"y",void 0),Object(d.a)(this,"w",void 0),Object(d.a)(this,"h",void 0),this.x=e||0,this.y=n||0,this.w=r||0,this.h=o||0},w=function t(e,n){var r=this;a(this,t),Object(d.a)(this,"x",void 0),Object(d.a)(this,"y",void 0),Object(d.a)(this,"magnitude",(function(){return Math.sqrt(r.x*r.x+r.y*r.y)})),Object(d.a)(this,"add",(function(t){r.x+=t.x,r.y+=t.y})),Object(d.a)(this,"difference",(function(e){return new t(r.x-e.x,r.y-e.y)})),Object(d.a)(this,"scale",(function(e){return new t(r.x*e,r.y*e)})),Object(d.a)(this,"reversed",(function(){return r.scale(-1)})),this.x=e||0,this.y=n||0},O=function(){function t(e,n,r,o,i){a(this,t),Object(d.a)(this,"radius",void 0),Object(d.a)(this,"position",void 0),Object(d.a)(this,"velocity",void 0),this.radius=i||10,this.position=e&&n&&new w(e,n)||new w,this.velocity=r&&o&&new w(r,o)||new w}return c(t,[{key:"tick",value:function(t){this.position.add(this.velocity.scale(t))}},{key:"collide",value:function(t){t.position.difference(this.position).magnitude()<2*this.radius&&(this.velocity=this.velocity.reversed(),t.velocity=t.velocity.reversed())}},{key:"collideBounds",value:function(t){switch(this.exitingBounds(t)){case"TOP":case"BOTTOM":this.velocity.y*=-1;break;case"LEFT":case"RIGHT":this.velocity.x*=-1}}},{key:"intersectsRect",value:function(t){return this.position.x-this.radius<t.x+t.w&&this.position.x+this.radius>t.x&&this.position.y-this.radius<t.y+t.h&&this.position.y+this.radius>t.y}},{key:"exitingBounds",value:function(t){return this.position.x+this.radius>t.x+t.w?"RIGHT":this.position.x-this.radius<t.x?"LEFT":this.position.y+this.radius>t.y+t.h?"BOTTOM":this.position.y-this.radius<t.y?"TOP":"NONE"}}]),t}(),g=function(){function t(e){a(this,t),Object(d.a)(this,"rect",new m),Object(d.a)(this,"leaves",new Array),Object(d.a)(this,"particles",new Array),this.rect=e}return c(t,[{key:"processCollisions",value:function(){for(var t=0;t<this.particles.length;t++)for(var e=t+1;e<this.particles.length;e++)this.particles[t].collide(this.particles[e])}},{key:"update",value:function(){this.processCollisions(),this.leaves.forEach((function(t){return t.update()}))}},{key:"subdivide",value:function(){var e=this.rect.w/2,n=this.rect.h/2;this.leaves=[new t(new m(this.rect.x,this.rect.y,e,n)),new t(new m(this.rect.x+e,this.rect.y,e,n)),new t(new m(this.rect.x,this.rect.y+n,e,n)),new t(new m(this.rect.x+e,this.rect.y+n,e,n))]}},{key:"insert",value:function(e){if(!e.intersectsRect(this.rect))return!1;if(this.particles.length<t.capacity)return this.particles.push(e),!0;0===this.leaves.length&&this.subdivide();var n,r=!1,o=v(this.leaves);try{for(o.s();!(n=o.n()).done;){n.value.insert(e)&&(r=!0)}}catch(i){o.e(i)}finally{o.f()}return r}}]),t}();Object(d.a)(g,"capacity",3);var x=function(){function t(e){a(this,t),Object(d.a)(this,"particleArray",new Array),Object(d.a)(this,"quadRoot",void 0),this.quadRoot=new g(e)}return c(t,[{key:"update",value:function(){var t=this;this.quadRoot.leaves=[],this.particleArray.forEach((function(e){return t.quadRoot.insert(e)})),this.quadRoot.update()}},{key:"insert",value:function(t){this.particleArray.push(t),this.quadRoot.insert(t)}}]),t}();function j(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var _=function(){return(new Date).getTime()},k=_(),S=!0,M=!0,A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,t);var e=j(n);function n(t){var r;a(this,n),r=e.call(this,t),Object(d.a)(s(r),"quadTree",void 0),Object(d.a)(s(r),"stopLoop",void 0),Object(d.a)(s(r),"particleArray",void 0),Object(d.a)(s(r),"canvasRef",Object(y.createRef)()),r.stopLoop=!1,r.quadTree=new x(new m(0,0,r.props.width,r.props.height)),r.particleArray=r.quadTree.particleArray;for(var o=0;o<500;o++){var i=10*Math.random()+5;r.quadTree.insert(new O(i+(r.props.width-2*i)*Math.random(),i+(r.props.height-2*i)*Math.random(),500*(Math.random()-.5),500*(Math.random()-.5),i))}return r.renderLoop=r.renderLoop.bind(s(r)),r}return c(n,[{key:"componentWillUnmount",value:function(){this.stopLoop=!0}},{key:"componentDidMount",value:function(){this.renderLoop()}},{key:"renderSimulation",value:function(t){t.fillStyle="white",t.fillRect(0,0,this.props.width,this.props.height),t.strokeStyle="black",this.particleArray.forEach((function(e){t.beginPath(),t.arc(e.position.x,e.position.y,e.radius,0,2*Math.PI),t.stroke()})),M&&(t.strokeStyle="#bbb",function e(n){t.strokeRect(n.rect.x,n.rect.y,n.rect.w,n.rect.h),n.leaves.forEach((function(t){return e(t)}))}(this.quadTree.quadRoot))}},{key:"updateSimulation",value:function(t){var e=this;this.particleArray.forEach((function(e){return e.tick(t)})),this.particleArray.forEach((function(t){return t.collideBounds(new m(0,0,e.props.width,e.props.height))})),this.quadTree.update()}},{key:"renderLoop",value:function(){if(!this.stopLoop){var t=_(),e=Math.round(1e3/(t-k));k=t,this.updateSimulation(1/e);var n=this.canvasRef.current,r=null===n||void 0===n?void 0:n.getContext("2d");r&&(this.renderSimulation(r),S&&(r.save(),r.font="25px Arial",r.fillStyle="grey",r.fillText("FPS: "+e,10,30),r.restore())),requestAnimationFrame(this.renderLoop)}}},{key:"render",value:function(){return Object(r.jsx)("canvas",{width:this.props.width,height:this.props.height,ref:this.canvasRef})}}]),n}(y.Component);function P(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)(i.a,{children:[Object(r.jsx)("title",{children:"Quadtree Visualizer"}),Object(r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),Object(r.jsx)("main",{children:Object(r.jsx)("div",{className:"main-content",children:Object(r.jsx)(A,{width:1024,height:800})})})]})}},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"8Kt/":function(t,e,n){"use strict";n("lSNA");e.__esModule=!0,e.defaultHead=f,e.default=void 0;var r,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n("q1tI")),i=(r=n("Xuae"))&&r.__esModule?r:{default:r},a=n("lwAK"),u=n("FYa8"),c=n("/0+H");function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function f(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[o.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function l(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===o.default.Fragment?t.concat(o.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var p=["name","httpEquiv","charSet","itemProp"];function h(t,e){return t.reduce((function(t,e){var n=o.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(l,[]).reverse().concat(f(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(o){var i=!0,a=!1;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){a=!0;var u=o.key.slice(o.key.indexOf("$")+1);t.has(u)?i=!1:t.add(u)}switch(o.type){case"title":case"base":e.has(o.type)?i=!1:e.add(o.type);break;case"meta":for(var c=0,s=p.length;c<s;c++){var f=p[c];if(o.props.hasOwnProperty(f))if("charSet"===f)n.has(f)?i=!1:n.add(f);else{var l=o.props[f],h=r[f]||new Set;"name"===f&&a||!h.has(l)?(h.add(l),r[f]=h):i=!1}}}return i}}()).reverse().map((function(t,e){var n=t.key||e;return o.default.cloneElement(t,{key:n})}))}function d(t){var e=t.children,n=(0,o.useContext)(a.AmpStateContext),r=(0,o.useContext)(u.HeadManagerContext);return o.default.createElement(i.default,{reduceComponentsToState:h,headManager:r,inAmpMode:(0,c.isInAmpMode)(n)},e)}d.rewind=function(){};var y=d;e.default=y},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},FYa8:function(t,e,n){"use strict";var r;e.__esModule=!0,e.HeadManagerContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});e.HeadManagerContext=o},Ijbi:function(t,e,n){var r=n("WkPL");t.exports=function(t){if(Array.isArray(t))return r(t)}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},Qetd:function(t,e,n){"use strict";var r=Object.assign.bind(Object);t.exports=r,t.exports.default=t.exports},RIqP:function(t,e,n){var r=n("Ijbi"),o=n("EbDI"),i=n("ZhPi"),a=n("Bnag");t.exports=function(t){return r(t)||o(t)||i(t)||a()}},SksO:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},Xuae:function(t,e,n){"use strict";var r=n("RIqP"),o=n("lwsE"),i=n("W8MJ"),a=(n("PJYZ"),n("7W2i")),u=n("a1gu"),c=n("Nsbk");function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}e.__esModule=!0,e.default=void 0;var f=n("q1tI"),l=function(t){a(n,t);var e=s(n);function n(t){var i;return o(this,n),(i=e.call(this,t))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(f.Component);e.default=l},ZhPi:function(t,e,n){var r=n("WkPL");t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},a1gu:function(t,e,n){var r=n("cDf5"),o=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?o(t):e}},cDf5:function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},g4pe:function(t,e,n){t.exports=n("8Kt/")},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lwAK:function(t,e,n){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=o},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))}},[["/EDR",0,1]]]);